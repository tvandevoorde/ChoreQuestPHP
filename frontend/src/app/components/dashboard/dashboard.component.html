<div class="dashboard">
  <!-- Mobile-first header -->
  <header class="mobile-header">
    <div class="header-content">
      <div class="greeting">
        <h1>Hi {{ currentUser?.username }}! ðŸ‘‹</h1>
        <p>What would you like to accomplish today?</p>
      </div>
      <button mat-icon-button (click)="logout()" class="logout-btn">
        <mat-icon>logout</mat-icon>
      </button>
    </div>
  </header>

  <!-- Quick Actions -->
  <section class="quick-actions">
    <button mat-raised-button color="primary" class="primary-action" (click)="showCreateForm = !showCreateForm">
      <mat-icon>add</mat-icon>
      New Chore List
    </button>
  </section>

  <!-- Notifications Banner (only if there are notifications) -->
  <section class="notifications-banner" *ngIf="notifications.length > 0">
    <div class="notification-preview">
      <mat-icon>notifications</mat-icon>
      <div class="notification-text">
        <span>{{ notifications.length }} new notification{{ notifications.length > 1 ? 's' : '' }}</span>
        <button mat-button color="primary" routerLink="/notifications">View</button>
      </div>
    </div>
  </section>

  <!-- Create Form (Simplified) -->
  <section class="create-section" *ngIf="showCreateForm">
    <mat-card class="create-card">
      <mat-card-header>
        <mat-card-title>Create New List</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <form (ngSubmit)="createChoreList()" class="simple-form">
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>List Name</mat-label>
            <input matInput [(ngModel)]="newChoreList.name" name="name" required placeholder="e.g. Weekly Cleaning">
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Description (Optional)</mat-label>
            <textarea matInput [(ngModel)]="newChoreList.description" name="description" rows="2" placeholder="What's this list for?"></textarea>
          </mat-form-field>

          <div class="form-actions">
            <button mat-raised-button color="primary" type="submit" class="full-width">
              <mat-icon>add</mat-icon>
              Create List
            </button>
            <button mat-button type="button" (click)="showCreateForm = false" class="full-width">
              Cancel
            </button>
          </div>
        </form>
      </mat-card-content>
    </mat-card>
  </section>

  <!-- Chore Lists (Mobile-first cards) -->
  <section class="chore-lists">
    <div class="section-title" *ngIf="choreLists.length > 0">
      <h2>Your Lists</h2>
    </div>

    <div class="chore-list-cards">
      <mat-card class="list-card" *ngFor="let list of choreLists">
        <!-- Card Header with actions -->
        <div class="card-header">
          <div class="list-info">
            <h3>{{ list.name }}</h3>
            <p *ngIf="list.description">{{ list.description }}</p>
          </div>
          <button mat-icon-button (click)="deleteChoreList(list.id)" class="delete-btn">
            <mat-icon>delete</mat-icon>
          </button>
        </div>

        <!-- Progress Section -->
        <div class="progress-section">
          <div class="progress-info">
            <span class="progress-text">{{ list.completedChoreCount }} of {{ list.choreCount }} done</span>
            <span class="progress-percentage">{{ getProgressPercentage(list) | number:'1.0-0' }}%</span>
          </div>
          <mat-progress-bar
            mode="determinate"
            [value]="getProgressPercentage(list)"
            class="progress-bar">
          </mat-progress-bar>
        </div>

        <!-- Sharing info -->
        <div class="sharing-info" *ngIf="list.shares.length > 0">
          <mat-icon>group</mat-icon>
          <span>Shared with {{ list.shares.length }} people</span>
        </div>

        <!-- Action -->
        <mat-card-actions>
          <button mat-raised-button color="primary" [routerLink]="['/chore-lists', list.id]" class="full-width view-btn">
            Open List
            <mat-icon>arrow_forward</mat-icon>
          </button>
        </mat-card-actions>
      </mat-card>
    </div>

    <!-- Empty State -->
    <div class="empty-state" *ngIf="choreLists.length === 0">
      <div class="empty-content">
        <mat-icon>checklist</mat-icon>
        <h3>Ready to get organized?</h3>
        <p>Create your first chore list and start checking things off!</p>
        <button mat-raised-button color="primary" (click)="showCreateForm = true" class="cta-button">
          <mat-icon>add</mat-icon>
          Create Your First List
        </button>
      </div>
    </div>
  </section>
</div>
